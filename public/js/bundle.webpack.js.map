{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/javascript.png","webpack:///./src/img/loading.gif","webpack:///./src/img/technology.jpg","webpack:///./src/js/model.js","webpack:///./src/js/view.js","webpack:///./src/js/controller.js","webpack:///./src/js/index.js","webpack:///./src/js/bundle.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Pages","_classCallCheck","this","state","index","News","type","arguments","length","undefined","lang","KEY","URI","CATEGORY","country","concat","buffer","correctUTF","articlesNews","error","navigator","geolocation","getCurrentPosition","pos","response","coords","latitude","longitude","localStorage","JSON","stringify","err","view","pages","db","window","fetch","then","json","sessionStorage","news","articles","openDateBase","catch","location","hash","slice","currentState","showNews","checkState","customElements","document","querySelector","mousePositionControl","ol","control","MousePosition","projection","coordinateFormat","coordinate","format","Map","controls","defaults","extend","ZoomSlider","OverviewMap","ScaleLine","target","layers","layer","Tile","source","OSM","View","center","proj","fromLonLat","zoom","DataBase","storeData","requestArticle","dbItems","itemCountDB","_this","parse","indexedDB","dbPromise","open","onupgradeneeded","e","objectStore","event","result","createObjectStore","autoIncrement","createIndex","unique","forEach","item","add","onsuccess","transaction","getAll","Promise","resolve","reject","data","oncomplete","openCursor","cursor","delete","continue","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","author","content","return","filterNews","filter","find","it","description","element","unshift","findItem","trans","put","removeItem","itemCount","console","warn","ViewNews","ctx","createElement","view_classCallCheck","menu","newsSection","count","countShow","lengthLoading","items","components","header","footer","loadMoreBox","loadingNews","contentSection","nav","wrapperHeader","title","footerWrapper","footerPower","support","classList","innerHTML","appendChild","scrollUp","setAttribute","parentNode","removeChild","lastSection","_toConsumableArray","getElementsByTagName","num","_this$items","push","apply","children","newContent","countArticle","Math","ceil","j","section","read","article","img","src","urlToImage","href","url","ij","parent","insertBefore","querySelectorAll","li","link","dataset","showLoadingButton","_this2","nextSibling","showAbout","showContact","titleState","aboutWrapper","aboutArticle","aboutMe","imageJs","onload","map","maps","mapInit","mapp","currentMarker","marker","style","display","markerYour","Overlay","position","positioning","addOverlay","markerCurrent","getElementById","loadWrapper","load","Controller","controller_classCallCheck","menuTitle","timer","scrolled","clickScrollCount","dateNews","model","self","clickEvent","setInterval","documentElement","scrollTop","log","Modernizr","touchevents","addEventListener","pageYOffset","clearInterval","showScrollUp","scroll","toggle","getCoords","setEvents","showComponents","showLoader","request","updateBroswer","main"],"mappings":"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","file":"./js/bundle.webpack.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = __webpack_public_path__ + \"img/javascript.png\";","module.exports = __webpack_public_path__ + \"img/loading.gif\";","module.exports = __webpack_public_path__ + \"img/technology.jpg\";","\r\n\r\nclass Pages {\r\n\r\n    constructor(){\r\n\r\n        this.state = 'index';\r\n    }\r\n\r\n    set currentState(index) {\r\n\r\n        this.state = index;\r\n    }\r\n\r\n    get currentState() {\r\n\r\n        return this.state;\r\n    }\r\n}\r\n\r\n\r\nclass News {\r\n\r\n    constructor(type = 'top-headlines',lang = 'ru'){\r\n\r\n        this.KEY = '92084bd2e2064d8d856eb2c499818785';\r\n        this.URI = 'https://newsapi.org/v2/';\r\n        this.CATEGORY = 'technology';\r\n        this.type = type;\r\n        this.country = `country=${lang}`;\r\n        this.buffer = false;\r\n        this.correctUTF = [];\r\n        this.articlesNews = [];\r\n\r\n        this.error = null;\r\n    }\r\n\r\n    getCoords(){\r\n\r\n\r\n        function error(err) {\r\n\r\n            let coords ={\r\n                latitude: 53.9130256,\r\n                longitude: 27.4998984,\r\n                error: true,\r\n            }\r\n\r\n            localStorage.coords = JSON.stringify(coords);\r\n        };\r\n\r\n\r\n        navigator.geolocation.getCurrentPosition(function success(pos) {\r\n            let response = pos.coords;\r\n\r\n            let coords ={\r\n                latitude: response.latitude,\r\n                longitude: response.longitude,\r\n                error: false,\r\n            }\r\n\r\n\r\n            localStorage.coords = JSON.stringify(coords);\r\n        },error);\r\n    }\r\n\r\n    static mapInit(mapIn = document.querySelector('.ol-viewport')){\r\n\r\n        if (!mapIn){\r\n\r\n            let mousePositionControl = new ol.control.MousePosition({\r\n                // используется градусная проекция\r\n                projection: 'EPSG:4326',\r\n                // переопределяем функцию вывода координат\r\n                coordinateFormat: function(coordinate) {\r\n                    // сначала широта, потом долгота и ограничиваем до 3 знаков после запятой\r\n                    return ol.coordinate.format(coordinate, '{y}, {x}', 3);\r\n                }\r\n            });\r\n\r\n            return new ol.Map({\r\n                controls: ol.control.defaults().extend([\r\n                    new ol.control.ZoomSlider(),\r\n                    mousePositionControl,\r\n                    new ol.control.OverviewMap(),\r\n                    new ol.control.ScaleLine()\r\n                ]),\r\n                target: 'map',\r\n                layers: [\r\n                    new ol.layer.Tile({\r\n\r\n                        source: new ol.source.OSM()\r\n\r\n                    })\r\n                ],\r\n                view: new ol.View({\r\n                center: ol.proj.fromLonLat([27.4998984,53.9130256]),\r\n                zoom: 7\r\n                })\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    request(view,pages,db){\r\n\r\n        if (!window.fetch) return false;\r\n\r\n        window.fetch(`${this.URI+this.type}?${this.country}&category=${this.CATEGORY}&apiKey=${this.KEY}`)\r\n\r\n        .then(response => response.json())\r\n        .then(response => sessionStorage.news = JSON.stringify(response.articles))\r\n        .then(response => { return db.openDateBase(view,pages,response);})\r\n\r\n        .catch((error) => {\r\n\r\n            sessionStorage.state = window.location.hash.slice(2);\r\n            pages.currentState = sessionStorage.state;\r\n            view.showNews();\r\n            view.checkState(pages);\r\n            view.customElements(document.querySelector('.loader'),'delete');\r\n        });\r\n}\r\n\r\n}\r\n\r\n\r\nclass DataBase {\r\n\r\n    constructor(){\r\n        this.storeData = [];\r\n        this.requestArticle = [];\r\n        this.dbItems = null;\r\n        this.itemCountDB = null;\r\n    }\r\n\r\n    openDateBase(view,pages,storeData){\r\n\r\n        this.requestArticle = JSON.parse(sessionStorage.news);\r\n\r\n        if (!window.indexedDB) return;\r\n\r\n        const dbPromise = window.indexedDB.open('newsDB',1);\r\n\r\n        dbPromise.onupgradeneeded = (e) => {\r\n\r\n            this.storeData = JSON.parse(sessionStorage.news);\r\n            const db = event.target.result;\r\n            let objectStore = db.createObjectStore(\"news\", {autoIncrement:true});\r\n\r\n            objectStore.createIndex(\"name\",'name', { unique: false });\r\n\r\n            // Store values in the newly created objectStore.\r\n\r\n            this.storeData.forEach((item) => objectStore.add(item));\r\n\r\n        };\r\n\r\n        dbPromise.onsuccess = (e) => {\r\n\r\n            const db = e.target.result;\r\n\r\n            this.dbItems = db.transaction('news').objectStore('news').getAll();\r\n\r\n            this.dbItems.onsuccess = (e) => {\r\n\r\n                let dbPromise = new Promise((resolve,reject) => {\r\n                let data = db.transaction('news','readwrite').objectStore('news');\r\n                // let store = data.objectStore('news');\r\n                data.oncomplete (resolve(data));\r\n\r\n                })\r\n\r\n                .then((data) => {\r\n\r\n\r\n                    let promise = new Promise((resolve,reject) => {\r\n\r\n                    data.openCursor().onsuccess = function logItems(e){\r\n\r\n                        let cursor = e.target.result;\r\n                        if (!cursor) {  return resolve('done'); }\r\n\r\n                        if (cursor.key > 54) cursor.delete();\r\n\r\n                        cursor.continue();\r\n                    }\r\n                })\r\n\r\n                .then(result => db.transaction('news').objectStore('news').getAll())\r\n\r\n                .then(result => {\r\n\r\n                result.onsuccess = (e) => {\r\n\r\n                    this.itemCountDB = this.dbItems.result.length-1;\r\n                    const news = e.target.result;\r\n\r\n                    this.correctUTF = [];\r\n                    this.buffer = news.length ? news : this.requestArticle;\r\n\r\n                    for (let item of this.buffer){\r\n\r\n                        (item.source) && (item.name = item.source.name);\r\n                        item.source && (delete item.source);\r\n                        item.author !== undefined && (delete item.author);\r\n                        item.content !== undefined && (delete item.content);\r\n                    }\r\n\r\n                    let filterNews =  this.requestArticle.filter( (item,i) =>{\r\n\r\n                        let its = this.buffer.find(it => it.description === item.description);\r\n                        return  its === undefined;\r\n                    });\r\n\r\n                    if (filterNews.length) {\r\n                        filterNews.forEach(element => this.buffer.unshift(element));\r\n                    }\r\n\r\n                    let findItem = this.buffer || this.requestArticle;\r\n\r\n                    this.correctUTF = findItem.filter (item => item.name != 'Rg.ru');\r\n\r\n                    let trans = db.transaction('news','readwrite');\r\n                    for (let i = 0; i < this.correctUTF.length; i++ ){\r\n\r\n                        trans.objectStore('news').put(this.correctUTF[i],i+1);\r\n                    }\r\n\r\n                    sessionStorage.removeItem('news');\r\n                    sessionStorage.itemCount = this.correctUTF.length-1;\r\n\r\n                    sessionStorage.state = window.location.hash.slice(2);\r\n                    pages.currentState = sessionStorage.state;\r\n\r\n                    view.itemCountDB = this.itemCountDB;\r\n                    view.showNews(news);\r\n                    view.checkState(pages);\r\n                    view.customElements(document.querySelector('.loader'),'delete');\r\n            }\r\n\r\n            }).catch(error => { console.warn(error) });\r\n\r\n            });\r\n        }\r\n        }\r\n    }\r\n}\r\n\r\nexport {Pages, DataBase, News};\r\n","import {News} from './model';\r\nexport default class ViewNews {\r\n\r\n    constructor(ctx = document.createElement('div')){\r\n        this.ctx = ctx;\r\n        this.content = null;\r\n        this.menu = ['main','about','contact'];\r\n        this.news = localStorage.news ? JSON.parse(localStorage.news) : [];\r\n        this.newsSection = [];\r\n        this.count = 6;\r\n        this.countShow = 18;\r\n        this.lengthLoading = 0;\r\n        this.items = [];\r\n        this.itemCountDB = null;\r\n\r\n\r\n        this.components = {\r\n            header: null,\r\n            footer: null,\r\n            loadMoreBox: null,\r\n            loadingNews: null,\r\n            contentSection: null,\r\n            nav: null,\r\n            wrapperHeader: null,\r\n            navigator: null,\r\n            title: null,\r\n            footerWrapper: null,\r\n            footerPower: null,\r\n        }\r\n    }\r\n\r\n    updateBroswer(){\r\n\r\n        let content = document.querySelector('.content');\r\n\r\n        let support = document.createElement('h2');\r\n        support.classList.add('updateIE');\r\n\r\n        support.innerHTML = \"Please update browser or if you use IE download a modern browser.\";\r\n        content.appendChild(support);\r\n        \r\n    }\r\n\r\n    showScrollUp(){\r\n\r\n        let scrollUp = document.createElement('div');\r\n        scrollUp.classList.add('scroll');\r\n        scrollUp.innerHTML = '<i class=\"fa-2x fas fa-arrow-up positionIcon\"></i>';\r\n\r\n        this.ctx.appendChild(scrollUp);\r\n    }\r\n\r\n    customElements(target,type = 'none',name = 'Спрятать') {\r\n\r\n        if (target) {\r\n            type === 'disabled' && target.setAttribute('disabled','true');\r\n            type === 'delete' && target.parentNode.removeChild(target);\r\n            type === 'rename' && (target.value = name);\r\n        }\r\n\r\n    }\r\n\r\n    loadingNews(target = false){\r\n            \r\n        \r\n            let lastSection = [...document.getElementsByTagName('section')];\r\n            let contentSection = document.querySelector('.content');\r\n            let num = this.newsSection.length-1;\r\n            this.items = [];\r\n\r\n            lastSection.forEach(item => this.items.push(...item.children));\r\n            this.newContent = this.news.filter( (item,i) => i > this.items.length-1);\r\n\r\n            if (this.newContent.length){\r\n\r\n                this.countShow = this.countShow > this.newContent.length ? this.newContent.length : 17;\r\n\r\n                let countArticle = Math.ceil(this.countShow / 3);\r\n\r\n\r\n                for(let j = 0; j < countArticle; j++){\r\n                    let section = document.createElement('section');\r\n                    this.newsSection.push(section);\r\n                }\r\n\r\n                this.lengthLoading = this.newContent.length > this.countShow ? this.countShow : this.newContent.length;\r\n\r\n                for(let i = 0; i < this.lengthLoading; i++){\r\n                    \r\n                    let read = document.createElement('a');\r\n                    let article = document.createElement('div');\r\n                    let img = document.createElement('img');\r\n\r\n                    img.src = this.newContent[i].urlToImage  ? this.newContent[i].urlToImage : 'img/technology.jpg';\r\n                    img.classList.add('topic-image');\r\n                    let content = document.createElement('p');\r\n\r\n                    content.classList.add('article__content');\r\n                    article.classList.add('article-col');\r\n                    article.classList.add('rel-col');\r\n\r\n                    read.href = this.newContent[i].url;\r\n                    read.setAttribute('target','_blank');\r\n                    read.classList.add('article__content__read');\r\n\r\n\r\n                    content.innerHTML = (this.newContent[i].description != '' && this.newContent[i].description != null) ?\r\n                                        this.newContent[i].description : this.newContent[i].title;\r\n\r\n                    article.appendChild(img);\r\n                    article.appendChild(content);\r\n                    article.appendChild(read);\r\n                    \r\n                    this.newsSection[num].appendChild(article);\r\n\r\n                    if (this.newsSection[num].children.length >= 3) num++;\r\n\r\n                    }\r\n                    \r\n                    for (let ij = 7; ij < this.newsSection.length; ij++){\r\n\r\n                        let parent = target.parentNode;\r\n                        contentSection.insertBefore(this.newsSection[ij],parent);\r\n                    }\r\n                    this.items = [];\r\n                    \r\n                    this.items = document.querySelectorAll('div.article-col').length-1;\r\n\r\n                    if (this.items === this.itemCountDB)\r\n                    this.customElements(document.querySelector('.loadingNewsBtn'),'delete');\r\n\r\n            } else {\r\n                this.customElements(document.querySelector('.loadingNewsBtn'),'delete');\r\n                return;\r\n           }\r\n    }\r\n\r\n\r\n    showLoadingButton(){\r\n\r\n        this.components.loadMoreBox = document.createElement('div');\r\n        this.components.loadMoreBox.classList.add('controllSection');\r\n\r\n        this.components.loadMoreBox = document.createElement('div');\r\n        this.components.loadMoreBox.classList.add('controllSection');\r\n\r\n        this.components.loadingNews = document.createElement('input');\r\n        this.components.loadingNews.setAttribute('type','button');\r\n        this.components.loadingNews.classList.add('loadingNewsBtn');\r\n        this.components.loadingNews.value = 'Загрузить';\r\n\r\n        this.components.loadMoreBox.appendChild(this.components.loadingNews);\r\n    }\r\n\r\n\r\n    showComponents(){\r\n\r\n        this.ctx.innerHTML = '';\r\n\r\n        this.components.header = document.createElement('header');\r\n        this.components.footer = document.createElement('footer');\r\n\r\n        this.components.contentSection = document.createElement('div');\r\n        this.components.contentSection.classList.add('content');\r\n\r\n        this.components.nav = document.createElement('nav');\r\n        this.components.wrapperHeader = document.createElement('div');\r\n        this.components.navigator = document.createElement('ul');\r\n        this.components.navigator.classList.add('menu');\r\n\r\n        this.components.wrapperHeader.classList.add('row-center');\r\n        this.components.title = document.createElement('h1');\r\n        this.components.title.innerHTML = 'Technology news';\r\n        this.components.title.classList.add('title');\r\n\r\n        this.components.footerWrapper = document.createElement('div');\r\n        this.components.footerWrapper.classList.add('footerWrapper');\r\n        this.components.footerPower = document.createElement('p');\r\n        this.components.footerPower.classList.add('footerWrapper__powerd');\r\n        this.components.footerPower.innerHTML = 'Create by themafia98 (Pavel P)';\r\n\r\n\r\n        for (let i = 0; i < 3; i++){\r\n\r\n            let li = document.createElement('li');\r\n            let link = document.createElement('a');\r\n            link.setAttribute('href', `#!${this.menu[i]}`);\r\n            link.dataset.menu = this.menu[i];\r\n            link.innerHTML = this.menu[i];\r\n            li.appendChild(link);\r\n            this.components.navigator.appendChild(li);\r\n        }\r\n\r\n        this.showLoadingButton();\r\n\r\n        this.components.nav.appendChild(this.components.navigator);\r\n        this.components.footerWrapper.appendChild(this.components.footerPower);\r\n\r\n        this.components.wrapperHeader.appendChild(this.components.title);\r\n        this.components.wrapperHeader.appendChild(this.components.nav);\r\n\r\n        this.components.footer.appendChild(this.components.footerWrapper);\r\n\r\n        this.components.header.appendChild(this.components.wrapperHeader);\r\n        this.ctx.appendChild(this.components.header);\r\n        this.ctx.appendChild(this.components.contentSection);\r\n        this.ctx.appendChild(this.components.footer);\r\n\r\n        this.content = document.querySelector('.content');\r\n\r\n    }\r\n\r\n    showNews(db = []){\r\n \r\n        this.content.innerHTML = '';\r\n        this.items = document.querySelectorAll('div.article-col').length-1;\r\n        this.newsSection = [];\r\n        this.countShow = 18;\r\n        this.news = db;\r\n\r\n        if (this.items === this.itemCountDB) {\r\n\r\n            this.customElements(document.querySelector('.loadingNewsBtn'),'delete');\r\n        } else this.showLoadingButton();\r\n\r\n\r\n        let countArticle = Math.ceil(this.countShow / 3);\r\n        let num = 0;\r\n\r\n        for(let j = 0; j < countArticle+1; j++){\r\n\r\n            let section = document.createElement('section');\r\n            this.newsSection.push(section);\r\n        }\r\n        ;\r\n        let length = this.countShow + this.lengthLoading;\r\n\r\n        for(let i = 0; i < length; i++){\r\n\r\n            if (this.news.length === 0) break;\r\n            let read = document.createElement('a');\r\n\r\n            let article = document.createElement('div');\r\n            let img = document.createElement('img');\r\n            img.src = this.news[i].urlToImage ? this.news[i].urlToImage : 'img/technology.jpg';\r\n            img.classList.add('topic-image');\r\n            let content = document.createElement('p');\r\n            content.classList.add('article__content');\r\n            article.classList.add('article-col');\r\n            article.classList.add('rel-col');\r\n\r\n            if (i === 0) {\r\n                read.href = this.news[i].url;\r\n                read.classList.add('hot-article__content__read');\r\n                read.setAttribute('target','_blank');\r\n                read.innerHTML = 'Читать';\r\n                this.newsSection[i].classList.add('hot-topic');\r\n                content.classList.add('hot-topic_content');\r\n                img.classList.add('hot-image');\r\n            } else {\r\n\r\n                read.href = this.news[i].url;\r\n                read.setAttribute('target','_blank');\r\n                read.classList.add('article__content__read');\r\n            }\r\n   \r\n            content.innerHTML = (this.news[i].description != '' && this.news[i].description != null) ? this.news[i].description : this.news[i].title;\r\n            article.appendChild(img);\r\n            article.appendChild(content);\r\n            article.appendChild(read);\r\n\r\n            if (this.lengthLoading > 0){\r\n     \r\n                !(this.newsSection[num]) && (this.newsSection[num] = document.createElement('section'));\r\n            }\r\n       \r\n            this.newsSection[num].appendChild(article);\r\n            if (i % 3 === 0) num++;\r\n        }\r\n        this.newsSection.forEach (item => this.components.contentSection.appendChild(item));\r\n\r\n        this.components.contentSection.appendChild(this.components.loadMoreBox);\r\n\r\n        this.ctx.insertBefore(this.components.contentSection,this.components.header.nextSibling);\r\n    }\r\n\r\n    checkState(pages){\r\n\r\n        (pages.currentState === 'about') && this.showAbout();\r\n        (pages.currentState === 'contact') && this.showContact();\r\n        (pages.currentState === 'main' || '')  && (this.showNews(this.news));\r\n\r\n    \r\n    }\r\n\r\n    showAbout() {\r\n        \r\n        this.content.innerHTML = '';\r\n\r\n        let titleState = document.createElement('h2');\r\n        titleState.classList.add('state-title');\r\n        titleState.innerHTML = 'About';\r\n\r\n        let aboutWrapper = document.createElement('div');\r\n        aboutWrapper.classList.add('aboutWrapper');\r\n\r\n        let aboutArticle = document.createElement('p');\r\n        aboutArticle.classList.add('aboutArticle');\r\n        aboutArticle.innerHTML = 'This is a test project. Use a <a href = \"https://newsapi.org/\">News API</a>.';\r\n\r\n\r\n        let aboutMe = document.createElement('p');\r\n        aboutMe.classList.add('aboutMe');\r\n        aboutMe.innerHTML = 'My name is Pavel Petrovich and i like <strong>JavaScript</strong>.';\r\n        let imageJs = document.createElement('img');\r\n        imageJs.classList.add('imagesAbout');\r\n        imageJs.src = 'img/javascript.png';\r\n\r\n        aboutWrapper.appendChild(aboutArticle);\r\n        aboutWrapper.appendChild(aboutMe);\r\n        imageJs.onload = () => aboutWrapper.appendChild(imageJs);\r\n\r\n        this.content.appendChild(titleState);\r\n        this.content.appendChild(aboutWrapper);\r\n    }\r\n\r\n    showContact(){\r\n\r\n        this.content.innerHTML = '';\r\n\r\n        let titleState = document.createElement('h2');\r\n        titleState.classList.add('state-title');\r\n        titleState.innerHTML = 'Contact';\r\n\r\n        let aboutWrapper = document.createElement('div');\r\n        aboutWrapper.classList.add('aboutWrapper');\r\n\r\n        let aboutArticle = document.createElement('p');\r\n        aboutArticle.classList.add('contact-links');\r\n        aboutArticle.innerHTML = '<a href = \"https://github.com/themafia98\"><i class=\"fab fa-github-square\"></i></a>' +\r\n                                 ' <a href = \"https://www.linkedin.com/in/pavel-p-80887b151/\"><i class=\"fab fa-linkedin\"></i></a>';\r\n\r\n        let map = document.createElement('div');\r\n        map.setAttribute('id','map');\r\n\r\n        aboutWrapper.appendChild(aboutArticle);\r\n\r\n        this.content.appendChild(titleState);\r\n        this.content.appendChild(aboutWrapper);\r\n        this.content.appendChild(map);\r\n\r\n        let maps = News.mapInit();\r\n        let coords = JSON.parse(localStorage.coords);\r\n\r\n        let mapp = document.querySelector('.ol-viewport');\r\n\r\n        let currentMarker = document.createElement('div');\r\n        currentMarker.classList.add('markerCurrent');\r\n\r\n        let marker = document.createElement('div');\r\n        marker.classList.add('marker');\r\n\r\n        mapp.appendChild(currentMarker);\r\n        mapp.appendChild(marker);\r\n\r\n        if (!coords.error) {\r\n        let markerYour = new ol.Overlay({\r\n            position: ol.proj.fromLonLat([coords.longitude,coords.latitude]),\r\n            element: document.querySelector('.marker'),\r\n            positioning: 'bottom-center'\r\n        });\r\n        maps.addOverlay(markerYour);\r\n        } else document.querySelector('.marker').style.display = 'none';\r\n\r\n        let markerCurrent = new ol.Overlay({\r\n            position: ol.proj.fromLonLat([27.4998984,53.9130256]),\r\n            element: document.querySelector('.markerCurrent'),\r\n            positioning: 'bottom-center'\r\n        });\r\n        maps.addOverlay(markerCurrent);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    showLoader(){\r\n\r\n        let app = document.getElementById('newsApp');\r\n\r\n        let loadWrapper = document.createElement('div');\r\n        loadWrapper.classList.add('loadingWrapper');\r\n        let load = document.createElement('img');\r\n        load.classList.add('loader');\r\n        load.src = 'img/loading.gif';\r\n\r\n        loadWrapper.appendChild(load);\r\n\r\n        this.ctx.insertBefore(loadWrapper,this.components.header.nextSibling);\r\n    }\r\n}","\r\nexport default class Controller {\r\n\r\n    constructor (){\r\n\r\n        this.menu = null;\r\n        this.menuTitle = null;\r\n        this.timer = null;\r\n        this.scrolled = null;\r\n        this.clickScrollCount = 0;\r\n\r\n\r\n    }\r\n\r\n    setDbEvents(dateNews,storeData){\r\n\r\n        dateNews.onupgradeneeded = function(event) {\r\n\r\n            const db = event.target.result;\r\n            // Create an objectStore to hold information about our customers. We're\r\n            // going to use \"id\" as our key path because it's guaranteed to be\r\n            // unique.\r\n            let objectStore = db.createObjectStore(\"news\", {autoIncrement:true});\r\n\r\n            // Create an index to search customers by name. We may have duplicates\r\n            // so we can't use a unique index.\r\n            objectStore.createIndex(\"name\",'name', { unique: false });\r\n\r\n            // Store values in the newly created objectStore.\r\n\r\n            for (let i = 0; i < storeData.length; i++){\r\n\r\n                objectStore.add(storeData[i]);\r\n            }\r\n        };\r\n\r\n        dateNews.onsuccess = function(event) { //если база открылась и все в порядке\r\n\r\n            const db = event.target.result;\r\n            let objectStore = db.transaction([\"news\"], \"readwrite\");\r\n            const store = objectStore.objectStore(\"news\");\r\n\r\n            store.openCursor().onsuccess = function(event) {\r\n                let cursor = event.target.result;\r\n\r\n                if (cursor) cursor.continue();\r\n            };\r\n        };\r\n    }\r\n\r\n    setEvents (view,model,pages){\r\n\r\n        let self = this;\r\n\r\n        function scroll(e) {\r\n\r\n            self.menu = document.getElementsByTagName('nav')[0];\r\n            self.scrolled = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n\r\n            if (self.timer != null && self.scrolled === 0) { \r\n\r\n                clearInterval(self.timer);\r\n                self.clickScrollCount = 0;\r\n            };\r\n\r\n            if (self.scrolled > 100) {\r\n\r\n                self.menu.classList.add('fixed-menu');\r\n                (!document.querySelector('.scroll') && !Modernizr.touchevents) && view.showScrollUp();\r\n\r\n            } else if (self.menu.classList[0] == 'fixed-menu' && self.scrolled < 100) {\r\n\r\n                let scroll =  document.querySelector('.scroll');\r\n                self.menu.classList.toggle('fixed-menu');\r\n                scroll && scroll.parentNode.removeChild(scroll); // || remove()\r\n            }\r\n        };\r\n\r\n        function clickEvent(e) {\r\n\r\n            let target = e.target;\r\n\r\n            if (target.classList[0] === 'loadingNewsBtn'){ view.loadingNews(target); return; };\r\n\r\n\r\n            if((target.parentNode.classList[0] === 'scroll' || target.classList[0] === 'scroll') && \r\n                self.clickScrollCount === 0){\r\n\r\n                self.clickScrollCount++;\r\n                self.timer =  setInterval(function tick() {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop - 20;\r\n                },0);\r\n            }\r\n        };\r\n\r\n        /* -----------Modernizr----------- */\r\n        console.log('touchevents detected:' + Modernizr.touchevents);\r\n        Modernizr.touchevents && document.addEventListener('touchend',clickEvent,false);\r\n        !Modernizr.touchevents && document.addEventListener('click',clickEvent,false);\r\n\r\n        window.addEventListener('storage', (e) => {  view.showNews() },false);\r\n        document.addEventListener('scroll',scroll,false);\r\n\r\n        document.addEventListener('DOMContentLoaded',() => {\r\n\r\n            if (window.location.hash.slice(2) === 'main') {\r\n                \r\n                window.location.hash = '';\r\n            }\r\n\r\n        },false);\r\n\r\n\r\n        window.addEventListener('hashchange', updateState);\r\n\r\n        function updateState(e) {\r\n\r\n            sessionStorage.state = window.location.hash.slice(2);\r\n            pages.currentState = sessionStorage.state;\r\n            view.checkState(pages);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","\r\nimport {News,Pages,DataBase} from './model';\r\nimport ViewNews from './view';\r\nimport Controller from './controller';\r\n\r\nexport default function main(){\r\n\r\n    const pages = new Pages();\r\n    const news = new News();\r\n    const db = new DataBase();\r\n    news.getCoords();\r\n    const view = new ViewNews(document.getElementById('newsApp'));\r\n    const controll = new Controller();\r\n\r\n    controll.setEvents(view,news,pages);\r\n    view.showComponents();\r\n    view.showLoader();\r\n\r\n    debugger;\r\n    const have = news.request(view,pages,db);\r\n\r\n    if (have === false) {\r\ndebugger;\r\n        view.customElements(document.querySelector('.loader'),'delete');\r\n        view.updateBroswer();\r\n    }\r\n\r\n    // controll.setDbEvents(dateBase,db.storeData);\r\n};\r\n","\r\n/* @ Styles @ */\r\n\r\nimport '../style/value.scss';\r\nimport '../style/main.scss';\r\nimport '../style/media.scss';\r\n\r\n/* @ Media-file @ */\r\n\r\nimport '../img/javascript.png';\r\nimport '../img/loading.gif';\r\nimport '../img/technology.jpg';\r\n\r\n\r\n/* @ JavaScript @ */\r\nimport main from './index';\r\nmain();"],"sourceRoot":""}